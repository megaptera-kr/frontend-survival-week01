# 🐣 **개발 환경 세팅**

## node modules 설치

```tsx
mkdir my-app
```

```tsx
cd my-app
```

```tsx
npm i -y
```

### gitignore 설치와 세팅

```tsx
touch .gitignore
```

- gitignore 세팅

    ```plaintext
    # Created by https://www.toptal.com/developers/gitignore/api/node
    # Edit at https://www.toptal.com/developers/gitignore?templates=node
    
    ### Node ###
    # Logs
    logs
    *.log
    npm-debug.log*
    yarn-debug.log*
    yarn-error.log*
    lerna-debug.log*
    .pnpm-debug.log*
    
    # Diagnostic reports (https://nodejs.org/api/report.html)
    report.[0-9]*.[0-9]*.[0-9]*.[0-9]*.json
    
    # Runtime data
    pids
    *.pid
    *.seed
    *.pid.lock
    
    # Directory for instrumented libs generated by jscoverage/JSCover
    lib-cov
    
    # Coverage directory used by tools like istanbul
    coverage
    *.lcov
    
    # nyc test coverage
    .nyc_output
    
    # Grunt intermediate storage (https://gruntjs.com/creating-plugins
    #storing-task-files)
    .grunt
    
    # Bower dependency directory (https://bower.io/)
    bower_components
    
    # node-waf configuration
    .lock-wscript
    
    # Compiled binary addons (https://nodejs.org/api/addons.html)
    build/Release
    
    # Dependency directories
    node_modules/
    jspm_packages/
    
    # Snowpack dependency directory (https://snowpack.dev/)
    web_modules/
    
    # TypeScript cache
    *.tsbuildinfo
    
    # Optional npm cache directory
    .npm
    
    # Optional eslint cache
    .eslintcache
    
    # Optional stylelint cache
    .stylelintcache
    
    # Microbundle cache
    .rpt2_cache/
    .rts2_cache_cjs/
    .rts2_cache_es/
    .rts2_cache_umd/
    
    # Optional REPL history
    .node_repl_history
    
    # Output of 'npm pack'
    *.tgz
    
    # Yarn Integrity file
    .yarn-integrity
    
    # dotenv environment variable files
    .env
    .env.development.local
    .env.test.local
    .env.production.local
    .env.local
    
    # parcel-bundler cache (https://parceljs.org/)
    .cache
    .parcel-cache
    
    # Next.js build output
    .next
    out
    
    # Nuxt.js build / generate output
    .nuxt
    dist
    
    # Gatsby files
    .cache/
    # Comment in the public line in if your project uses Gatsby and not Next.js
    # https://nextjs.org/blog/next-9-1#public-directory-support
    # public
    
    # vuepress build output
    .vuepress/dist
    
    # vuepress v2.x temp and cache directory
    .temp
    
    # Docusaurus cache and generated files
    .docusaurus
    
    # Serverless directories
    .serverless/
    
    # FuseBox cache
    .fusebox/
    
    # DynamoDB Local files
    .dynamodb/
    
    # TernJS port file
    .tern-port
    
    # Stores VSCode versions used for testing VSCode extensions
    .vscode-test
    
    # yarn v2
    .yarn/cache
    .yarn/unplugged
    .yarn/build-state.yml
    .yarn/install-state.gz
    .pnp.*
    
    ### Node Patch ###
    # Serverless Webpack directories
    .webpack/
    
    # Optional stylelint cache
    
    # SvelteKit build / generate output
    .svelte-kit
    
    # End of https://www.toptal.com/developers/gitignore/api/node
    
    ```

- 참고 자료

[gitignore.io](https://www.toptal.com/developers/gitignore/)

### 타입 스크립트 설정

```bash
npm i -D typescript
```

\-D 를 사용하는 이유

1. 배포할때 용량을 조금 줄여줄수 있음
2. 배포할때 악의적인 공격으로 제어하려는 걸 줄여줄 수 있음
3. 주로 도구 같은 것들을 -D 로 설치

npm i -D 를 사용하다면 npx 를 사용할 확률이 높다.

npx 는 설치를 따로 하지 않아도 사용 가능함

```bash
npx tsc —-init
```

주석 처리된 아래 부분을 열어 준다. 아래처럼 리액트로 설정해주어도 되고 그렇지 않아도 무관하

```json
// "jsx": "preserve",
```

```json
"jsx": "react-jsx",
```

### ESLint 설치 및 세팅

```bash
npm i -D eslint
```

```bash
npx eslint --init
```

#### ESLint 세팅 가이드

```bash
You can also run this command directly using 'npm init @eslint/config'.

? How would you like to use ESLint? … 
  To check syntax only
  To check syntax and find problems
**❯ To check syntax, find problems, and enforce code style**

? What type of modules does your project use? … 
**❯ JavaScript modules (import/export)**
  CommonJS (require/exports)
  None of these

? Which framework does your project use? … 
**❯ React**
  Vue.js
  None of these

? Does your project use TypeScript? › ****No **/ Yes**

? Where does your code run? …  (Press <space> to select, <a> to toggle all,
 <i> to invert selection)
**✔ Browser**
✔ Node

? How would you like to define a style for your project? … 
**❯ Use a popular style guide**
  Answer questions about your style

? Which style guide do you want to follow? … 
  Standard: <https://github.com/standard/eslint-config-standard-with
  -typescript>
**❯ XO: <https://github.com/xojs/eslint-config-xo-typescript**>

? What format do you want your config file to be in? … 
**❯ JavaScript**
  YAML
  JSON

? Would you like to install them now? › No / **Yes

? Which package manager do you want to use? … 
❯ npm
  yarn
  pnpm**

```

#### .eslintrc.js 에서 jest: true 추가

```json
module.exports = {
env: {
 browser: true,
 es2021: true,
 jest: true,
 },
}
```

#### .eslintignore 생성

```bash
touch .eslintignore
```

아래 문구 추가

```plaintext
/node_modules/
/dist/
/.parcel-cache/
```

### React 설치

```bash
npm i react react-dom
```

- 주의할 점

설치중에 packae.json 건드리면 충돌이 일어날 수 있으므로 주의해주어야한다.

```bash
npm i -D @types/react @types/react-dom
```

```bash
npm i -D jest @types/jest @swc/core @swc/jest \\
    jest-environment-jsdom \\
    @testing-library/react @testing-library/jest-dom
```

```bash
touch jest.config.js
```

```json
module.exports = {
 testEnvironment: 'jsdom',
 setupFilesAfterEnv: [
  '@testing-library/jest-dom/extend-expect',
 ],
 transform: {
 '^.+\\\\.(t|j)sx?$': ['@swc/jest', {
 jsc: {
  parser: {
   syntax: 'typescript',
   jsx: true,
   decorators: true,
 },
 transform: {
 react: {
 runtime: 'automatic',
  },
 },
  },
 }],
 },
 testPathIgnorePatterns: [
  '<rootDir>/node_modules/',
'<rootDir>/dist/',
 ],
};
```

### Parcel 설치

```bash
npm i -D parcel
```

### Package.json 스크립트 세팅

```json
    "start": "parcel --port 8080",
    "build": "parcel build",
    "check": "tsc --noEmit",
    "lint": "eslint --fix --ext .js,.jsx,.ts,.tsx .",
    "test": "jest",
    "coverage": "jest --coverage --coverage-reporters html",
    "watch:test": "jest --watchAll"**
```

Package.json 에서

```json
"main": "index.js",

"source": "index.html",
로 변경

```

### 기본 코드 작성하기

- `index.html`

```html
<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <title>React Demo App</title>
    </head>
    <body>
  <div id="root"></div>
  <script type="module" src="./src/main.tsx"></script>
    </body>
</html>
```

- `src/main.tsx`

```bash
mkdir src && touch src/main.tsx
```

#### ESLint extends 설정 추가 (import react 처리)

```jsx
extends: [
   'plugin:react/recommended',
   'plugin:react/jsx-runtime',
   'xo',
  ],
```

```tsx
import ReactDom from 'react-dom/client';
import App from './App';

const element = document.getElementById('root');

if (element) {
 const root = ReactDom.createRoot(element);
 root.render(<App />);
}
```

- `src/App.tsx`

```tsx
export default function App() {
 return (
  <div>Hello, world!</div>
 );
}
```

- `src/App.test.tsx`
- `src/components/Greeting.test.tsx`
- `src/components/Greeting.tsx`

```Bash
mkdir .vscode & touch settings.json
```

{
    "editor.codeActionsOnSave": {
        "source.fixAll.eslint": true
    }
}
