# frontend-survival-week01

프론트엔드 생존코스 1주차 과제

## 프로젝트 생성

```bash
 npm init -y
```

## ignore 파일 생성

```bash
 touch .eslintignore

 touch .gitignore
```

`.gitignore` 설정 or `vscode extension 이용`

```ignore
  # Logs
  logs
  *.log
  npm-debug.log*
  yarn-debug.log*
  yarn-error.log*
  lerna-debug.log*
  .pnpm-debug.log*

  # Diagnostic reports (https://nodejs.org/api/report.html)
  report.[0-9]*.[0-9]*.[0-9]*.[0-9]*.json

  # Runtime data
  pids
  *.pid
  *.seed
  *.pid.lock

  # Directory for instrumented libs generated by jscoverage/JSCover
  lib-cov

  # Coverage directory used by tools like istanbul
  coverage
  *.lcov

  # nyc test coverage
  .nyc_output

  # Grunt intermediate storage (https://gruntjs.com/creating-plugins#storing-task-files)
  .grunt

  # Bower dependency directory (https://bower.io/)
  bower_components

  # node-waf configuration
  .lock-wscript

  # Compiled binary addons (https://nodejs.org/api/addons.html)
  build/Release

  # Dependency directories
  node_modules/
  jspm_packages/

  # Snowpack dependency directory (https://snowpack.dev/)
  web_modules/

  # TypeScript cache
  *.tsbuildinfo

  # Optional npm cache directory
  .npm

  # Optional eslint cache
  .eslintcache

  # Optional stylelint cache
  .stylelintcache

  # Microbundle cache
  .rpt2_cache/
  .rts2_cache_cjs/
  .rts2_cache_es/
  .rts2_cache_umd/

  # Optional REPL history
  .node_repl_history

  # Output of 'npm pack'
  *.tgz

  # Yarn Integrity file
  .yarn-integrity

  # dotenv environment variable files
  .env
  .env.development.local
  .env.test.local
  .env.production.local
  .env.local

  # parcel-bundler cache (https://parceljs.org/)
  .cache
  .parcel-cache

  # Next.js build output
  .next
  out

  # Nuxt.js build / generate output
  .nuxt
  dist

  # Gatsby files
  .cache/
  # Comment in the public line in if your project uses Gatsby and not Next.js
  # https://nextjs.org/blog/next-9-1#public-directory-support
  # public

  # vuepress build output
  .vuepress/dist

  # vuepress v2.x temp and cache directory
  .temp
  .cache

  # Docusaurus cache and generated files
  .docusaurus

  # Serverless directories
  .serverless/

  # FuseBox cache
  .fusebox/

  # DynamoDB Local files
  .dynamodb/

  # TernJS port file
  .tern-port

  # Stores VSCode versions used for testing VSCode extensions
  .vscode-test

  # yarn v2
  .yarn/cache
  .yarn/unplugged
  .yarn/build-state.yml
  .yarn/install-state.gz
  .pnp.*
```

`.eslintignore` 설정

```json
  /dist/
  /node_modules/
  .parcel_cache
```

## 🐱 Typescript 설치 및 설정

---

설치 & 설정

```bash
  npm i -D typescript

  npx tsc --init
```

`.tsconfig.json`

```json
  "jsx":"preserve"

        ⬇️

  "jsx":"react-jsx"
```

## 🐱 React 설치 및 설정

---

```bash
  npm i react react-dom

  npm i -D @types/react @types/react-dom
```

`./src/main.tsx` 생성

```typescript
import ReactDOM from "react-dom/client";

import App from "./App";

function main() {
  const container = document.getElementById("root");
  if (!container) {
    return;
  }

  const root = ReactDOM.createRoot(container);
  root.render(<App />);
}

main();
```

## 🐱 EsLint 설치 및 설정

---

```bash
  npm i -D eslint

  npx eslint --init
```

```bash
  ? How would you like to use ESLint? ...
    To check syntax only
    To check syntax and find problems
  > To check syntax, find problems, and enforce code style

  ? What type of modules does your project use? ...
  > JavaScript modules (import/export)
    CommonJS (require/exports)
    None of these

  ? Which framework does your project use? ...
  > React
    Vue.js
    None of these

  ? Does your project use TypeScript? » No / Yes<YES>

  ? Where does your code run? ...  (Press <space> to select,
  <a> to toggle all, <i> to invert selection)
  √ Browser
  √ Node

  ? How would you like to define a style for your project? ...
  > Use a popular style guide
    Answer questions about your style

  ? Which style guide do you want to follow? ...
    Standard: https://github.com/standard/eslint-config-standard-with-typescript
  > XO: https://github.com/xojs/eslint-config-xo-typescript

  ? What format do you want your config file to be in? ...
  > JavaScript
    YAML
    JSON
```

본래 airbnb 를 사용하였다. 기존 위에서 설치한 XO 삭제 후 airbnb 설치

```bash
  npm uninstall eslint-config-xo
      eslint-config-xo-typescript

  npm i -D eslint-config-airbnb
      eslint-plugin-import
      eslint-plugin-react
      eslint-plugin-react-hooks
      eslint-plugin-jsx-a11y
```

그에 맞게 `eslintrc.js` 수정

```javascript
module.exports = {
  env: {
    browser: true,
    es2021: true,
    jest: true,
  },
  extends: [
    "airbnb",
    "plugin:@typescript-eslint/recommended",
    "plugin:react/recommended",
    "plugin:react/jsx-runtime",
  ],
  parser: "@typescript-eslint/parser",
  parserOptions: {
    ecmaVersion: "latest",
    sourceType: "module",
  },
  plugins: ["react", "@typescript-eslint"],
  settings: {
    "import/resolver": {
      node: {
        extensions: [".js", ".jsx", ".ts", ".tsx"],
      },
    },
  },
  rules: {
    indent: ["error", 2],
    "no-trailing-spaces": "error",
    curly: "error",
    "brace-style": "error",
    "no-multi-spaces": "error",
    "space-infix-ops": "error",
    "space-unary-ops": "error",
    "no-whitespace-before-property": "error",
    "func-call-spacing": "error",
    "space-before-blocks": "error",
    "keyword-spacing": ["error", { before: true, after: true }],
    "comma-spacing": ["error", { before: false, after: true }],
    "comma-style": ["error", "last"],
    "comma-dangle": ["error", "always-multiline"],
    "space-in-parens": ["error", "never"],
    "block-spacing": "error",
    "array-bracket-spacing": ["error", "never"],
    "object-curly-spacing": ["error", "always"],
    "key-spacing": ["error", { mode: "strict" }],
    "arrow-spacing": ["error", { before: true, after: true }],
    "import/no-extraneous-dependencies": [
      "error",
      {
        devDependencies: [
          "**/*.test.js",
          "**/*.test.jsx",
          "**/*.test.ts",
          "**/*.test.tsx",
        ],
      },
    ],
    "import/extensions": [
      "error",
      "ignorePackages",
      {
        js: "never",
        jsx: "never",
        ts: "never",
        tsx: "never",
      },
    ],
    "react/jsx-filename-extension": [
      2,
      {
        extensions: [".js", ".jsx", ".ts", ".tsx"],
      },
    ],
    "jsx-a11y/label-has-associated-control": ["error", { assert: "either" }],
  },
};
```

설정에 대한 설치

```bash
  eslint-plugin-react@latest eslint-config-xo@latest
  eslint@>=8.0.0 eslint-config-xo-typescript@latest
  @typescript-eslint/eslint-plugin@>=5.43.0
  @typescript-eslint/parser@>=5.43.0 typescript@>=4.4
  ? Would you like to install them now? » No / Yes<YES>

  ? Which package manager do you want to use? ...
  > npm
    yarn
    pnpm
```

## 🐱 Parcel 설치 및 설정

---

```bash
  npm i -D parcel
```

`package.json`

```json
  "source":"index.html",
  "scripts": {
    "start": "parcel --port 8080",
    "build": "parcel build",
    "check": "tsc --noEmit",
    "lint": "eslint --fix --ext .js,.jsx,.ts,.tsx .",
    "test": "jest",
    "coverage": "jest --coverage --coverage-reporters html",
    "watch:test": "jest --watchAll"
  },
```

parcel 에서 static file을 사용하기 위해서
`static / images등`

```bash
  npm i -D parcel-reporter-static-files-copy
```

`.parcelrc`

```json
{
  "extends": ["@parcel/config-default"],
  "reporters": ["...", "parcel-reporter-static-files-copy"]
}
```

`index.html`

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hello world</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="./src/main.tsx"></script>
  </body>
</html>
```

## 🐱 Jest 설치 및 설정

```bash
  npm i -D jest @types/jest @swc/core
  @swc/jest jest-environment-jsdom
  @testing-library/react @testing-library/jest-dom
```

```bash
  touch jest.config.js
```

`jest.config.js`

```javascript
module.exports = {
  testEnvironment: "jsdom",
  setupFilesAfterEnv: ["@testing-library/jest-dom/extend-expect"],
  transform: {
    "^.+\\.(t|j)sx?$": [
      "@swc/jest",
      {
        jsc: {
          parser: {
            syntax: "typescript",
            jsx: true,
          },
          transform: {
            react: {
              runtime: "automatic",
            },
          },
        },
      },
    ],
  },
  testPathIgnorePatterns: ["<rootDir>/node_modules/", "<rootDir>/dist/"],
};
```

설치 및 설정 후

- `eslintrc.js` `env`에 `jest:true`추가
- `extends`에도 `"plugin:react/jsx-runtime"` 추가

```javascript
module.exports = {
  env: {
    browser: true,
    es2021: true,
    jest: true,
  },
  extends: ["plugin:react/recommended", "plugin:react/jsx-runtime", "xo"],
  overrides: [
    {
      extends: ["xo-typescript"],
      files: ["*.ts", "*.tsx"],
    },
  ],
  parserOptions: {
    ecmaVersion: "latest",
    sourceType: "module",
  },
  plugins: ["react"],
  rules: {},
};
```

`src/App.tsx`

```javascript
export default function App() {
  return <p>Hello, world!</p>;
}
```

`src/App.test.tsx`

```javascript
import { render, screen } from "@testing-library/react";

import App from "./App";

test("App", () => {
  render(<App />);

  screen.getByText(/Hello, world/);
});
```
